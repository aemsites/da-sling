(()=>{"use strict";var e={d:(t,a)=>{for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function n(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,o,i,l=[],u=!0,c=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;u=!1}else for(;!(u=(n=o.call(a)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,r=e}finally{try{if(!u&&null!=a.return&&(i=a.return(),Object(i)!==i))return}finally{if(c)throw r}}return l}}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function l(e){var t=function(e){if("object"!==i(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!==i(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===i(t)?t:String(t)}function u(e,t,a){return(t=l(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}e.r(t),e.d(t,{getAnalyticsInstance:()=>S});const s=JSON.parse('{"screenLoad":"screen_load","cartStep":{"account":"cart_step_account","products":"cart_step_products","billing":"cart_step_billing","confirm":"cart_step_confirm","restartBilling":"restart_step_billing","restartProducts":"restart_step_products","changeProducts":"change_step_products","changeBilling":"change_step_billing"},"form":{"complete":"form_complete","error":"form_error","interaction":"form_field_interaction","start":"form_start"},"order":{"create":"sub_create","change":"sub_change","upgrade":"sub_upgrade","downgrade":"sub_downgrade","restart":"sub_restart"},"userLogin":"user_login","userLogout":"user_logout","userRegister":"user_register","cancelTenure":"cancel_tenure","uiInteraction":"ui_click","modal":{"modalOpen":"modal_open","modalClose":"modal_close"},"search":{"begin":"search","complete":"search_complete"},"cartSelection":{"add":"cart_add","remove":"cart_remove"},"pause":{"start":"pause_start","end":"sub_pause"}}'),d=JSON.parse('{"cancelStart":"cancel_start","cancelUpdate":"cancel_step_update","cancelReason":"cancel_step_reason","cancelRebuttal":"cancel_step_upsell","cancelComplete":"cancel_complete"}'),f=JSON.parse('{"cancelStart":"cancel","cancelUpdate":"cancel","cancelReason":"cancel","cancelRebuttal":"cancel","cancelComplete":"cancel"}'),v=JSON.parse('{"media":["utm_medium","utm_source","utm_campaign","utm_content","utm_site","utm_term","matchtype"],"convertro":["cvosrc","cvo_crid","cvo_cid","cvo_pid","cvo_keyword","cvo_creative"],"referral":["bp_e"],"affiliate":["affiliate"],"partner":["partner"],"easy_code":["easy_code"],"easy_device":["easy_device"]}');var p=["localsComponentZip"];function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){u(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var g=["text","hidden","radio","number","textarea","radio"];function h(e){console.warn("[Analytics Warning] ".concat(e))}function b(e){console.error(new Error("[Analytics Error] ".concat(e)))}var w,_=function(){function e(t,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.screenLoadFired=!1,this.formStartFired={},this.appName=t,this.dataLayer=a,"true"===localStorage.getItem("debugACDL")&&this.dataLayer.addEventListener("adobeDataLayer:change",(function(e){console.log(JSON.stringify(e,null,"  "))}))}return t=e,a=[{key:"updateDebugData",value:function(){var e={web:{webPageDetails:{platform:"web",_sling:{appName:this.appName,analyticsVersion:version}}}};this.dataLayer.push(e)}},{key:"updatePageData",value:function(e){var t,a,n,r,o=e.name,i=void 0===o?"/"===window.location.pathname?"home":window.location.pathname:o,l=e.lineOfBusiness,u=e.classification,c=e.type,s=void 0===c?"generic":c,d=e.lang,f=void 0===d?null!==(t=null===(a=document.documentElement)||void 0===a||null===(n=a.lang)||void 0===n?void 0:n.substr(0,2))&&void 0!==t&&t:d,v=e.domain,p=void 0===v?window.location.hostname:v,m=window.location.search.slice(1),y=document.title;"404"===y&&(r=y);var g={web:{webPageDetails:{name:i,type:s,qsp:m,language:f,siteSection:l,siteSubSection:u,siteSubSubSection:void 0,domain:p,pageErrorName:r}}};this.dataLayer.push(g)}},{key:"updateUserData",value:function(e){var t=e.guid,a=e.email,n=e.emailSha256,r=e.offerIdentifier,o=e.packages,i=e.plan,l=e.planOffer,u=e.status,c=e.subscribedPackages,s=e.uuid,d=e.classification,f=e.lineOfBusiness,v=e.zipCode,p=Array.isArray(o)?o:[o],m={web:{user:y(y(y(y(y(y(y({guid:t},a?{contact:{email:a,hashed:{sha256:{email:n}}}}:{}),u&&{accountStatus:u}),r&&{offerIdentifier:r}),i&&{plan:i}),l&&{planOffer:l}),c&&{subscribedPackages:c}),{},{zipCode:v,_sling:{packageNames:p,uuid:s,classification:d,lineOfBusiness:f}})}};this.dataLayer.push(m),localStorage.setItem("adobeDataLayer.web.user",JSON.stringify(e))}},{key:"updatePerformanceData",value:function(){var e,t,a,n,r,o,i=Math.round(null!==(e=null===(t=window)||void 0===t||null===(a=t.performance)||void 0===a||null===(n=a.getEntriesByType)||void 0===n||null===(r=n.call(a,"navigation"))||void 0===r||null===(o=r[0])||void 0===o?void 0:o.domComplete)&&void 0!==e?e:0),l=Math.floor(i/1e3),u={web:{webPageDetails:{loadTime:i,_sling:{loadTimeBucket:l>10?"10+sec":"".concat(l,"-").concat(l+1,"sec")}}}};this.dataLayer.push(u)}},{key:"updatePageAccessInfo",value:function(){var e={web:{webPageDetails:{_sling:{pageViewDayOfWeek:(new Date).toLocaleString("en-US",{timeZone:"America/Denver",weekday:"short"}).toLowerCase()}}}};this.dataLayer.push(e)}},{key:"updateUrlParamsData",value:function(e){var t=Array.from(e.entries()),a=v,n=t.filter((function(e){return t=o(e,1)[0],Object.entries(a).filter((function(e){return o(e,2)[1].includes(t)})).reduce((function(e,t){return e||t}),!1);var t})).reduce((function(e,t){return e[t[0]]=t[1],e}),{}),r={},i=e.get("roku_code");i&&(r.easy_code=i,r.easy_device="roku");var l={web:{webPageDetails:{_sling:{urlParams:y(y({},n),r)}}}};this.dataLayer.push(l)}},{key:"updateLocalsZipCode",value:function(e){if(e){var t={web:{user:{zipCode:e}}};this.dataLayer.push(t)}else h("Zip code was not provided")}},{key:"screenLoad",value:function(e){var t=e.localsComponentZip,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,p);if(this.screenLoadFired)h("screenLoad was called twice, not calling again.");else{this.screenLoadFired=!0,this.updatePageData(a),this.updateLocalsZipCode(t);var n={event:s.screenLoad,screenLoadFired:!0,web:{currentEvent:s.screenLoad}};this.dataLayer.push(n)}}},{key:"updateFormData",value:function(t){var a,n,r,o,i,l,u,c,s=t.form,d=t.field,f=t.fieldName,v=t.name,p=t.error,m=null!==(a=null!==(n=null!==(r=null==s||null===(o=s.elements)||void 0===o?void 0:o[f])&&void 0!==r?r:null==s||null===(i=s.elements)||void 0===i?void 0:i[null==d?void 0:d.name])&&void 0!==n?n:null==d||null===(l=d.form)||void 0===l||null===(u=l.elements)||void 0===u?void 0:u[null==d?void 0:d.name])&&void 0!==a?a:d;if(m||f){var y=f||m.name||m.id,g=e.getFormFieldValue(d);y?c={name:y,value:g}:h("Not tracking field with value because there is no field name or ID")}var b={form:{formDetails:{formName:null!=v?v:s.name||s.id||"form name not found",_sling:{formField:c},errorDetails:p}}};this.dataLayer.push(b)}},{key:"formComplete",value:function(e){var t=e.element,a=e.name;this.updateFormData({form:t,name:a});var n={event:s.form.complete,web:{currentEvent:s.form.complete}};this.dataLayer.push(n)}},{key:"formError",value:function(e){var t=e.element,a=e.name,n=e.error;this.updateFormData({form:t,name:a,error:n});var r={event:s.form.error,web:{currentEvent:s.form.error}};this.dataLayer.push(r)}},{key:"formInteraction",value:function(e,t){var a=e.element,n=e.name,r=t.inputElement,o=t.inputName;this.formStart({element:a,name:n}),this.updateFormData({form:a,field:r,fieldName:o,name:n});var i={event:s.form.interaction,web:{currentEvent:s.form.interaction}};this.dataLayer.push(i)}},{key:"formStart",value:function(e){var t=e.element,a=e.name,n=a||(null==t?void 0:t.name)||(null==t?void 0:t.id);if(n){if(!this.formStartFired[n]){this.formStartFired[n]=!0,this.updateFormData({form:t,name:a});var r={event:s.form.start,web:{currentEvent:s.form.start}};this.dataLayer.push(r)}}else h("The form id was not found.")}},{key:"userLogin",value:function(e){this.updateUserData(e);var t={event:s.userLogin,web:{user:{authState:"logged_in"},currentEvent:s.userLogin}};this.dataLayer.push(t)}},{key:"userLogout",value:function(){var e={event:s.userLogout,web:{user:{authState:"logged_out"},currentEvent:s.userLogout}};this.dataLayer.push(e)}},{key:"userCancelTenure",value:function(e){var t=e.accountStatus,a=e.refundStatus,n=e.offerIdentifier,r=e.plan,o=e.planOffer,i=e.subscribedPackages;if(a){var l={event:s.cancelTenure,web:{user:y(y(y(y(y({},t&&{accountStatus:t}),{},{cancelTenure:a},n&&{offerIdentifier:n}),r&&{plan:r}),o&&{planOffer:o}),i&&{subscribedPackages:i})}};this.dataLayer.push(l),localStorage.removeItem("adobeDataLayer.web.user")}else h('Could not find "refundStatus" argument in userCancelTenure')}},{key:"userRegister",value:function(e){this.updateUserData(e);var t={event:s.userRegister,web:{currentEvent:s.userRegister}};this.dataLayer.push(t)}},{key:"updateCartData",value:function(e){var t=e.category,a=void 0===t?"unknown":t,n=e.subCategory,o=void 0===n?"unknown":n,i=e.referrer,l=e.planName,u=void 0===l?"unknown":l,c=e.offerName,s=void 0===c?"unknown":c,d=e.deviceBundle,f=e.subType,v=void 0===f?"unknown":f,p=e.basePreselect,m=void 0===p?[]:p,y=e.extrasPreselect,g=void 0===y?[]:y,h=[].concat(r(m),r(g)),b=h.join("|"),w={commerce:{cart:{_sling:{category:a,subCategory:o,referrer:i,planName:u,offerName:s,deviceBundle:d,subType:v,basePreselect:m,extrasPreselect:g,packagePreselect:h,formattedPackagePreselect:b}}}};this.dataLayer.push(w)}},{key:"cartSelection",value:function(e,t){var a=s.cartSelection[e];if(a){this.updateProductListItems(t);var n={event:a,web:{currentEvent:a}};this.dataLayer.push(n)}else h("Unknown event name in cart selection")}},{key:"cartStep",value:function(e,t,a){var n=s.cartStep[e];if(n){this.updatePageData(a),this.updateCartData(t);var r={event:n,web:{currentEvent:n}};this.dataLayer.push(r)}else h("Unknown event name in cart step")}},{key:"uiInteraction",value:function(e){var t,a,n,r,o,i,l,u,c,d,f,v,p,m,y,g,b=e.element,w=e.name,_=e.component,S=e.parent,L=e.target;if(w=null!==(t=null!==(a=w)&&void 0!==a?a:null==b||null===(n=b.textContent)||void 0===n||null===(r=n.replace)||void 0===r?void 0:r.call(n,/\s+/g,"-"))&&void 0!==t?t:"",_=null!==(o=null!==(i=_)&&void 0!==i?i:null==b||null===(l=b.tagName)||void 0===l||null===(u=l.toLowerCase)||void 0===u?void 0:u.call(l))&&void 0!==o?o:"",S=null!==(c=null!==(d=S)&&void 0!==d?d:null==b||null===(f=b.parentNode)||void 0===f||null===(v=(p=f.tagName).toLowerCase)||void 0===v?void 0:v.call(p))&&void 0!==c?c:"",L=null!==(m=null!==(y=L)&&void 0!==y?y:null==b||null===(g=b.getAttribute)||void 0===g?void 0:g.call(b,"href"))&&void 0!==m?m:"",[w,_,S].filter((function(e){return!!e})).length){var k="".concat(S,"|").concat(_,"|").concat(w),O={event:s.uiInteraction,web:{webInteraction:{name:w,type:"other",_sling:{component:_,parent:S,interactionName:k,target:L}},currentEvent:s.uiInteraction}};this.dataLayer.push(O)}else h("UIInteraction: No data was passed in for {name, component, parent} and no element was provided")}},{key:"modalOpen",value:function(e){var t=e.name;if(t){var a={event:s.modal.modalOpen,web:{webInteraction:{_sling:{modalName:t}},currentEvent:s.modal.modalOpen}};this.dataLayer.push(a)}else h('Could not find "name" argument in modalOpen')}},{key:"modalClose",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).name;if(e){var t={event:s.modal.modalClose,web:{webInteraction:{_sling:{modalName:e}},currentEvent:s.modal.modalClose}};this.dataLayer.push(t)}else h('Could not find "name" argument in modalClose')}},{key:"updateProductListItems",value:function(e){var t={productListItems:e.map((function(e){var t,a=e.id,n=e.name,r=e.quantity,o=e.unitPrice,i=e.guid,l=e.category;return{name:n,quantity:(r||"1").toString(),priceTotal:null==o||null===(t=o.toString)||void 0===t?void 0:t.call(o),_sling:{id:a,guid:i,category:l},_prodMerchandising:{merchcategory1:n,merchcategory2:i,merchcategory3:l}}}))};this.dataLayer.push(t)}},{key:"order",value:function(e,t,a,n){var r,o,i,l,c=a.orderId,d=a.subtotal,f=a.total,v=a.tax,p=a.currency,m=a.cartName,g=a.planName,b=a.offerName,w=a.promoCode,_=a.giftCard,S=a.type,L=s.order[e],k=["sub_change","sub_upgrade","sub_downgrade"].reduce((function(e,t){return y(y({},e),{},u({},t,t.replace("_","-")))}),{});if(L)if(n){var O=y({guid:t.userGuid,status:t.accountStatus},t);this.updateUserData(O),this.updateProductListItems(n);var P=k[L],D=_;Array.isArray(D)&&(D=D.join(","));var C=null==d||null===(r=d.toString)||void 0===r?void 0:r.call(d),E=null==f||null===(o=f.toString)||void 0===o?void 0:o.call(f),I=null==v||null===(i=v.toString)||void 0===i?void 0:i.call(v),N=null==c||null===(l=c.toString)||void 0===l?void 0:l.call(c),j={event:L,commerce:{order:{orderTax:I,shippingAmount:void 0,discountAmount:void 0,purchaseID:N,hashedPurchaseID:N,promoCode:w,_sling:{subtotal:C,total:E,currency:p,cartName:m,giftCard:D,planName:g,offerName:b,orderType:S,orderSubChangeType:P}}},web:{currentEvent:L}};this.dataLayer.push(j)}else h("Either order data or product data is undefined");else h("Unknown event name in order subscription event")}},{key:"step",value:function(e,t){var a,n;if(void 0!==d[e]){var r=y(y({},t),{},{type:null!==(a=f[e])&&void 0!==a?a:t.type});this.updatePageData(r);var o=null!==(n=d[e])&&void 0!==n?n:s.screenLoad,i={event:o,web:{currentEvent:o}};this.dataLayer.push(i)}else h('Event "'.concat(e,'" is not a valid event'))}},{key:"searchStart",value:function(){var e={event:s.search.begin,web:{currentEvent:s.search.begin}};this.dataLayer.push(e)}},{key:"searchComplete",value:function(e){var t=e.searchValue;if(t){var a={event:s.search.complete,search:{searchDetails:{searchTerm:t,searchResults:void 0}},web:{currentEvent:s.search.complete}};this.dataLayer.push(a)}else h('Could not find "searchValue" argument in searchComplete')}},{key:"pauseStart",value:function(){var e={event:s.pause.start,web:{currentEvent:s.pause.start}};this.dataLayer.push(e)}},{key:"confirmSubPause",value:function(e){var t=e.pauseDuration,a={event:s.pause.end,web:{currentEvent:s.pause.end,user:{_sling:{pauseDuration:t}}}};this.dataLayer.push(a)}}],n=[{key:"getFormFieldValue",value:function(e){var t,a=e instanceof RadioNodeList?e[0]:e,n="untracked";if("slingAnalyticsCapture"in(null!==(t=null==a?void 0:a.dataset)&&void 0!==t?t:{}))if(a instanceof HTMLSelectElement)n=Array.from(a.selectedOptions).map((function(e){return e.value})).join(",");else if("checkbox"===a.type)n=a.checked?"checked":"unchecked";else if(g.includes(a.type))n=a.value;else{var r,o,i,l;h("Unsupported field type. form: ".concat(null!==(r=null!==(o=null==a||null===(i=a.form)||void 0===i?void 0:i.name)&&void 0!==o?o:null==a||null===(l=a.form)||void 0===l?void 0:l.id)&&void 0!==r?r:"id missing","\n          , field: ").concat(null==a?void 0:a.name,", type: ").concat(null==a?void 0:a.type)),n="unsupported field type"}return n}}],a&&c(t.prototype,a),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,a,n}(),S=function(e){if(!w){var t,a={get:function(e,t){return e[t]?function(){try{return e[t].apply(e,arguments)}catch(e){b(e)}}:(b("Property ".concat(t," accessed, but does not exist.")+" If this is a function call, it will silently fail as a no-op. This needs to be fixed in the calling code."),function(){})}};window.adobeDataLayer=null!==(t=window.adobeDataLayer)&&void 0!==t?t:[],(w=new Proxy(new _(e,window.adobeDataLayer),a)).updateDebugData(),w.updatePageData({name:"unknown",lineOfBusiness:"unknown",classification:"unknown",type:"generic",lang:"en",domain:window.location.hostname}),w.updatePageAccessInfo();var n=new URLSearchParams(window.location.search);if(w.updateUrlParamsData(n),localStorage.getItem("adobeDataLayer.web.user"))try{w.updateUserData(JSON.parse(localStorage.getItem("adobeDataLayer.web.user")))}catch(e){b(e)}window.addEventListener("load",(function(){w.updatePerformanceData()}))}return w}})();